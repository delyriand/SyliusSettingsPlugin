{% set locales = item.extra('locales') %}

{% import '@MonsieurBizSyliusSettingsPlugin/helper/form_accordion.html.twig' as form_accordion %}
<div class="card mb-3">
    <div class="card-header">
        <div class="card-title">
            {{ 'monsieurbiz.settings.ui.by_default'|trans }}
        </div>
    </div>
    {% set items = {
        'default': {
            label: ("monsieurbiz.settings.ui.form.title.sylius_default_values"|trans),
            form: form[constant('MonsieurBiz\\SyliusSettingsPlugin\\Settings\\Settings::DEFAULT_KEY') ~ '-' ~ constant('MonsieurBiz\\SyliusSettingsPlugin\\Settings\\Settings::DEFAULT_KEY')]
        }
    } %}
    {%  if item.extra('settings').showLocalesInForm %}
        {% for locale in locales %}
            {% set locale_code = locale.code %}
            {% set items = items|merge({(locale_code): {label: locale_code|sylius_locale_name, form: form[constant('MonsieurBiz\\SyliusSettingsPlugin\\Settings\\Settings::DEFAULT_KEY') ~ '-' ~ locale_code]}}) %}
        {% endfor %}
    {% endif %}
    {{ form_accordion.default(items, { accordion_flush: true, accordion_id: 'form_accordion_default' }) }}
</div>

